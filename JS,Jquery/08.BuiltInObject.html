<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 기본 객체에 메서드 추가
        Number.prototype.methodHaHaHa = function () {
            return 'Method on Prototype';
        };

        // 메서드 실행
        var objNumber = new Number(10);
        alert(objNumber.methodHaHaHa());

        // * 메서드 체이닝
        // 메서드를 연속해서 사용하는 것
        
    
        // * 정렬     
        var arr = [2, 4, 5, 10, 20];
        arr.sort(function(left, right) {
            return left - right; // 오름차순
            // return right - left; // 내림차순
        });


        // * 탐색 (ECMA5)
        // 탐색할 값을 인자로 받는다.
        // indexOf는 처음부터 탐색을 시작하고,
        // lastIndexOf는 마지막부터 탐색을 시작한다. 
        var arr2 = [1, 2, 3, 4, 5, 5, 4, 3, 2, 1];

        var output1 = arr2.indexOf(4);
        var output2 = arr2.indexOf(8);
        var output3 = arr2.lastIndexOf(4);
        var output4 = arr2.lastIndexOf(8);


        // * 반복 (ECMA5)
        // forEach : 배열 각각의 요소를 사용해 특정 함수를 for in 반복문처럼 실행
        // map : 기존의 배열에 특정 규칙을 적용해 새로운 배열을 만든다.
        var arr3 = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];

        var sum = 0;
        var output = '';
        // element : 요소 값
        // index : 인덱스 위치
        // array : 현재 forEach를 수행중인 배열 자체
        arr3.forEach(function (element, index, array) {
            sum += element;
            output += index + ': ' + element + " -> " + sum + '\n';
        });
        alert(output);

        // 처리 결과값을 바탕으로 새로운 배열이 생성된다.
        output = arr3.map(function (element) {
            return element * element;
        });
        alert(output);


        // * 조건
        // filter() : 특정 조건을 만족하는 요소를 추출해 새로운 배열을 만든다.
        // every() : 배열의 요소가 특정 조건을 모두 만족하는지 확인한다.
        // some() : 배열의 요소가 특정 조건을 적어도 하나 만족하는지 확인한다.
        function lessThanFive(element, index, array) {
            return element < 5;
        }
        function lessThanTwenty(element, index, array) {
            return element < 20;
        }

        var output1 = arr3.every(lessThanFive);
        var output2 = arr3.every(lessThanTwenty);
        var output3 = arr3.some(lessThanFive);
        var output4 = arr3.some(lessThanTwenty);


        // * 연산
        // reduce() : 배열의 요소가 하나가 될때까지 왼쪽부터 두 개씩 묶는 함수를 실행
        // reduceRight() : reduce와 같지만 방향이 오른쪽부터 실행
        arr3.reduce(function(previousValue, currentValue, index, array) {
             output += previousValue + ' : ' + currentValue + ' : ' + index + '\n';
        });
        var result = arr3.reduce(function (prev, cur) {
            return prev + cur;
        });
        alert(result);


        // * String 객체
        // trim() : 양쪽 끝 공백 제거

        // * JSON
        // JSON.stringfy() : JS Object => JSON String
        // JSON.parse()    : JSON String => JS Object
        var obj = {
            name : '과일안주',
            otherName : '술'
        };

        alert(JSON.stringify(obj) + '( type : ' + typeof(JSON.stringify(obj)) + ' )');
        alert(JSON.parse(JSON.stringify(obj)) + '( type : ' + typeof(JSON.parse(JSON.stringify(obj))) + ' )');

    </script>
</body>
</html>