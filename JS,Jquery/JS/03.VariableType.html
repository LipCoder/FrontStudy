<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /*
            var, let, const

            키워드            구분       선언위치        재선언
            var             변수        전역 스코프     가능
            let             변수        해당 스코프     불가능
            const           상수        해당 스코프     불가능
            
            
            let, const는 ECMAScript6 부터 사용이 가능하다.
        */


        // var 키워드의 비동기 함수 문제
        // for (var i = 0; i < 3; i++) {
        //     setTimeout(() => {
        //         alert(i);
        //     }, 1000 * i);
        // }
        // // var를 사용하면 3이 세번찍힌다.
        // // 전역 스코프에 i 값이 3으로 존재하기 때문에 해당 값을 출력한다.
        
        // 해당 방식으로 감싸서 사용할 변수를 전달 해주면 정상적으로 동작한다.
        for (var i = 0; i < 3; i++) {
            ((i) => {
                setTimeout(() => {
                    alert(i);
                }, 1000 * i);
            })(i);
        } 

        // 또 다른 방법은 let 키워드를 통해 해당 스코프에서만 변수가 존재할 수 있게
        // 해주면 된다.
        for (let i = 0; i < 3; i++) {
             setTimeout(() => {
                 alert(i);
             }, 1000 * i);
        }
    </script>
</body>
</html>